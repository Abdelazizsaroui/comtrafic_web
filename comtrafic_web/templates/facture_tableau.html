{% extends '_base.html' %}

{% block title %} Facture en tableau{% endblock title %}

{% block head %}

{% endblock head %}

{% block page_title %} <i class="nav-icon fas fa-money-check-alt"></i> Facture en tableau {% endblock page_title %}

{% block actions %}
<div class="float-sm-right">
  <div class="p-1">
    <a href="#" class="btn btn-sm bg-white shadow-sm"><small><strong>Paramétrage</strong></small></a>
    <a href="#" class="btn btn-sm bg-white shadow-sm"><small><strong>Envoi/Mail</strong></small></a>
    <a href="#" class="btn btn-sm bg-white shadow-sm"><small><strong>Export</strong></small></a>
    <a href="#" class="btn btn-sm bg-white shadow-sm"><small><strong>Impression</strong></small></a>
  </div>
</div>
{% endblock actions %}

{% block content %}

	<div class="row">
		<div class="col-md-12">
		<div class="card card-danger card-outline">
			<div class="card-header">
			  <div class="text-center">
			    <button class="btn btn-sm btn-primary shadow-sm"><i class="fas fa-search"></i> RECHERCHE</button>
			     <button class="btn btn-sm btn-light border shadow-sm"><i class="fas fa-filter"></i> FILTRES</button>
			     <button class="btn btn-sm btn-light text-danger border shadow-sm"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
			  </div>
			</div>
			<div class="card-body pb-1">
				<div class="row">
					<div class="col-md-4">
						<fieldset class="border py-2 px-2 mb-4 rounded">
						<legend class="w-auto badge badge-secondary rounded-pill px-3">Plage de date</legend>
						  <div class="custom-control custom-switch">
						    <input type="checkbox" class="custom-control-input" id="periode_complete">
						    <label class="custom-control-label font-weight-normal" for="periode_complete">Période complète</label>
						  </div>
						  <button class="btn btn-block btn-sm btn-outline-secondary my-2" type="button" data-toggle="modal" data-target="#periode-modal">Du 12/02/2019 Au 23/07/2019</button>
						</fieldset>
					</div>
					<div class="col-md-4">
						<div class="row mb-3">
						  <div class="col-6">
						    <label><small>Type d'appels</small></label>
						    <select class="custom-select custom-select-sm">
						      <option selected>Tous</option>
						      <option>Entrants</option>
						      <option>Sortants</option>
						    </select>
						  </div>
						  <div class="col-6">
						    <label><small>Etat d'appels</small></label>
						    <select class="custom-select custom-select-sm">
						      <option selected>Tous</option>
						      <option>Aboutis</option>
						      <option>Non aboutis</option>
						    </select>
						  </div>
						</div>
						<div class="form-group row">
						<label class="col-form-label col-md-3"><small>Coût TTC : </small></label>
						<div class="col-md-9">
						<input type="text" name="" class="form-control form-control-sm" placeholder="Coût TTC">
						</div>
						</div>
					</div>
					<div class="col-md-4 pt-3">
						<div class="form-group row">
						<label class="col-form-label col-md-3"><small>Service : </small></label>
						<div class="col-md-9">
						<select class="custom-select mb-2 custom-select-sm">
						  <option selected disabled>Choisir Service</option>
						  <option>Expéditions Stock</option>
						  <option>Achats Approvisionnements</option>
						  <option>Commercial</option>
						  <option>Informatique</option>
						  <option>Direction</option>
						  <option>Support technique</option>
						  <option>Compta</option>
						  <option>Chambres</option>
						  <option>Technique</option>
						</select>
						</div>
						</div>
						<div class="form-group row">
						<label class="col-form-label col-md-3"><small>Poste : </small></label>
						<div class="col-md-9">
						<select class="custom-select custom-select-sm">
						  <option selected disabled>Choisir Poste</option>
						  <option>520</option>
						  <option>521</option>
						  <option>522</option>
						  <option>523</option>
						  <option>524</option>
						  <option>525</option>
						  <option>526</option>
						  <option>527</option>
						  <option>528</option>
						  <option>529</option>
						  <option>530</option>
						  <option>531</option>
						  <option>532</option>
						  <option>533</option>
						  <option>534</option>
						  <option>535</option>
						  <option>536</option>
						  <option>537</option>
						  <option>538</option>
						  <option>539</option>
						</select>
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12">
		<div class="card card-danger card-outline">
			<div class="card-body">
				<table class="table table-hover table-sm table-bordered" id="facture-table">
				  <thead>
				    <tr>
				      <th>Label</th>
				      <th>Somme HT</th>
				      <th>Somme TTC</th>
				      <th>Date</th>
				      <th>Service</th>
				    </tr>
				  </thead>
				  <tbody>
				  </tbody>
				</table>
			</div>
		</div>
		</div>
	</div>

	<div class="modal" id="periode-modal" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title">Plage de date</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <div class="custom-control custom-switch">
	          <input type="checkbox" class="custom-control-input" id="periode_complete_modal">
	          <label class="custom-control-label font-weight-normal" for="periode_complete_modal">Période complète</label>
	        </div>
	        <div class="form-group row mt-3">
	              <label for="plage_de_date" class="col-form-label col-md-4"><small>Plage : </small></label>
	              <div class="col-md-8">
	                <select class="custom-select custom-select-sm" id="plage_de_date">
	                  <option value="0" selected>Libre</option>
	                  <option value="1">Aujourd'hui</option>
	                  <option value="2">Hier</option>
	                  <option value="3">Avant hier</option>
	                  <option value="4">Semaine courante</option>
	                  <option value="5">Semaine dernière</option>
	                  <option value="6">Semaine -2</option>
	                  <option value="7">Mois courant</option>
	                  <option value="8">Mois dernier</option>
	                  <option value="9">Mois -2</option>
	                  <option value="10">Trimestre courant</option>
	                  <option value="11">Trimestre dernier</option>
	                  <option value="12">Trimestre -2</option>
	                  <option value="13">Année courante</option>
	                  <option value="14">Année dernière</option>
	                  <option value="15">Année -2</option>
	                </select>
	                </div>
	                </div>
	                <div class="form-group row">
	                  <label for="date_debut" class="col-form-label col-md-4"><small>Du : </small></label>
	                  <div class="col-md-8">
	                    <input id="date_debut" type="date" name="date_debut" max="3000-12-31" 
	                           min="1000-01-01" class="form-control form-control-sm">
	                  </div>
	                </div>
	                <div class="form-group row">
	                  <label for="date_fin" class="col-form-label col-md-4"><small>Au : </small></label>
	                  <div class="col-md-8">
	                    <input id="date_fin" type="date" name="date_fin" max="3000-12-31" 
	                           min="2000-01-01" class="form-control form-control-sm">
	                  </div>
	                </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">Annuler</button>
	        <button type="button" class="btn btn-sm btn-primary">Entregistrer</button>
	      </div>
	    </div>
	  </div>
	</div>

{% endblock content %}

{% block script %}

	<script>

		$("#nav-link6").addClass("bg-danger");

		$.getJSON('facture-tableau-data', function(data) {
			data.forEach(function(item, index){
				$("#facture-table").children("tbody").append(
					'<tr> <td>'+item.LABEL+'</td><td>'+item.SUM_HT+'</td><td>'+item.SUM_TTC+'</td><td>'+item.DATE_AC+'</td><td>'+item.SE_NOM+'</td></tr>'
				);
			});
		});

	</script>

{% endblock script %}